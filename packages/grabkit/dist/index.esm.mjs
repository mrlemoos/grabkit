var t=["GET","POST","PUT","DELETE","PATCH","HEAD","OPTIONS"],e=/*#__PURE__*/function(){function e(t,e){if(this.baseURL=void 0,this.method=void 0,this.url=void 0,this.baseURL=e,!t)throw new Error("[GrabKit] Where you call? I think you forgot to pass an endpoint \\_(-_-)_/.");var o=String(t).trim().split(" "),r=o[0],s=o[1];if("string"!=typeof r)throw new Error("[GrabKit] I think you forgot the method in your endpoint. It should be like `GET /users/` for instance.");var i=r.trim().toUpperCase(),a=s.trim().toLowerCase();a.startsWith("https://")||a.startsWith("http://")||(a=""+e+a),this.validateMethod(i),this.validateURI(a),this.debugIfTest()}var o=e.prototype;return o.send=function(t){var e=t.body,o=t.headers;try{return Promise.resolve(fetch(this.url,{method:this.method,body:"object"==typeof e?JSON.stringify(e):void 0,headers:o})).then(function(t){return Promise.resolve(t.json()).then(function(e){return t.ok?[{data:e},t.status]:[{data:void 0,error:e},t.status]})})}catch(t){return Promise.reject(t)}},o.debugIfTest=function(){"test"===process.env.NODE_ENV&&console.log("Call: the method was set to be '"+this.method+"' at '"+this.url+"'")},o.validateURI=function(t){if("string"!=typeof t)throw new Error("[GrabKit] Where you call? I think you forgot to pass a URI. \nYou should give us a URI like this: call()('GET /users') so we can get your data : ) (if it helps, we've got "+t+")");if(!(t.startsWith("http://")||t.startsWith("https://")||t.startsWith("/")))throw new Error('[GrabKit] I can be wrong, but I think you forgot to add "http://" or "https://" at the beginning of your URI. \\_(-_-)_/ We don\'t have it automatically because we\'re not sure which of them you wanna use as prefix. \n');if(t.startsWith("/")&&"string"!=typeof this.baseURL)throw new Error("[GrabKit] You have to give us a baseURL if you want to use a relative URI. Or you meant to use octokit, not sure yet :/\n")},o.validateMethod=function(e){if("string"!=typeof e)throw new Error("[GrabKit] Where you call? I think you forgot to pass a method. \nYou should give us a method like this: call()('GET /users') so we can get your data :P (if it helps, we've got "+e+")");if(!t.includes(e))throw new Error("[GrabKit] I can be wrong, but I think there's no HTTP method called '"+e+"'")},e}();function o(t){return function(o,r){var s=r.body,i=r.headers;try{var a=new e(o,t);return Promise.resolve(a.send({body:s,headers:i})).then(function(t){return[t[0],t[1]]})}catch(t){return Promise.reject(t)}}}export{o as default};
//# sourceMappingURL=index.esm.mjs.map
